(this.webpackJsonpspace=this.webpackJsonpspace||[]).push([[0],[,,,,,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r=n(0),s=n(1),a=n.n(s),o=n(10),c=n.n(o),i=(n(17),n(7)),u=n(11),l=n(2),h=n(3),j=n(5),b=n(4),p=(n(18),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"header",children:Object(r.jsx)("div",{className:"logo",children:Object(r.jsxs)("p",{children:[Object(r.jsx)("i",{className:"logo-icon"}),"\u041f\u043e\u043c\u043e\u0433\u0430\u0442\u043e\u0440"]})})})}}]),n}(s.Component)),d=(n(19),n(20),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var t=this;return Object(r.jsx)("div",{className:this.props.isCurrent?"tab active":"tab",children:Object(r.jsx)("span",{onClick:function(){return t.props.showAnotherTab(t.props.id)},children:this.props.title})})}}]),n}(s.Component)),O=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).getAllTabs=function(){return t.props.tabs.map((function(e){var n=e.title,s=e.id;return Object(r.jsx)(d,{id:s,title:n.substr(0,20),isCurrent:t.props.currentTabId===s,showAnotherTab:t.props.showAnotherTab},s)}))},t}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"answer-header",children:this.getAllTabs()})}}]),n}(s.Component),f=(n(21),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"loading",children:Object(r.jsx)("div",{className:"icon"})})}}]),n}(s.Component)),m=n(6),k=n.n(m),v=n(8),g=function(){function t(){Object(l.a)(this,t),this._apiLink="/api/";var e=localStorage.getItem("token");e?this.token=e:(this.token=Date.now(),localStorage.setItem("token",this.token))}return Object(h.a)(t,[{key:"getAnswer",value:function(){var t=Object(v.a)(k.a.mark((function t(e,n){var r,s;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={sessionId:this.token.toString(),chatId:1,text:e,categoryId:parseInt(n)},console.log(JSON.stringify(r)),t.next=4,fetch("".concat(this._apiLink,"questions"),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8","X-Pomogator-Session-Id":this.token.toString()},body:JSON.stringify(r)});case 4:if((s=t.sent).ok){t.next=7;break}throw new Error("Fail api ".concat(s.status));case 7:return t.next=9,s.json();case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getHistory",value:function(){var t=Object(v.a)(k.a.mark((function t(){var e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._apiLink,"history/?take=20"),{method:"GET",headers:{"X-Pomogator-Session-Id":this.token.toString()}});case 2:if((e=t.sent).ok){t.next=5;break}throw new Error("Fail api ".concat(e.status));case 5:return console.log(e.text()),t.next=8,e.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getBookmarks",value:function(){var t=Object(v.a)(k.a.mark((function t(){var e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(this._apiLink,"favourites/?take=20"),{method:"GET",headers:{"X-Pomogator-Session-Id":this.token.toString()}});case 2:if((e=t.sent).ok){t.next=5;break}throw new Error("Fail api ".concat(e.status));case 5:return console.log(e.text()),t.next=8,e.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),w=(n(23),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(l.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).api=new g,t.state={value:""},t.formChange=function(e){t.setState({value:e.target.value})},t.formSubmit=function(e){t.api.getAnswer(t.state.value,t.props.currentTabId).then((function(e){t.props.showNewAnswer(e,t.props.currentTabId)})),e.preventDefault(),document.getElementsByClassName("main-question-input")[0].value=""},t}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("form",{className:"main-question",method:"GET",onSubmit:this.formSubmit,children:[Object(r.jsx)("input",{type:"text",className:"main-question-input",onChange:this.formChange,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0432\u043e\u043f\u0440\u043e\u0441"}),Object(r.jsx)("input",{type:"submit",className:"text",value:"\u0418\u0441\u043a\u0430\u0442\u044c"}),Object(r.jsx)("input",{type:"submit",className:"voice",value:""})]})}}]),n}(s.Component)),x=(n(24),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var t=[];return this.props.text&&this.props.text.replace(/((?:https?:\/\/|ftps?:\/\/|\bwww\.)(?:(?![.,?!;:()]*(?:\s|$))[^\s]){2,})|(\n+|(?:(?!(?:https?:\/\/|ftp:\/\/|\bwww\.)(?:(?![.,?!;:()]*(?:\s|$))[^\s]){2,}).)+)/gim,(function(e,n,s){t.push(n?Object(r.jsx)("a",{href:("w"===n[0]?"//":"")+n,children:n},t.length):s)})),Object(r.jsx)("div",{className:"full-answer",children:t})}}]),n}(a.a.Component)),y=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var t=this,e=this.props.data,n=e.currentTabId,s=e.isLoading,a=e.tabs;console.log(this.props.data);var o=this.props.findByKey(n,"id",a);if(-1===o)return console.log(n),Object(r.jsx)("h1",{children:"error"});var c,i,u=a[o].content,l=Object(r.jsx)(w,{currentTabId:n,showNewAnswer:this.props.showNewAnswer});return u?s?c=Object(r.jsx)(f,{}):(c=Object(r.jsxs)("div",{className:"answer-filed",children:[Object(r.jsx)("div",{className:"title",children:u.Question}),Object(r.jsx)(x,{text:u.Answer})]}),i=a[o].inBookmark?Object(r.jsx)("i",{onClick:function(){return t.props.toggleBookmark(a[o].id)},className:"to-bookmark added",children:"\u0412 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0430\u0445"}):Object(r.jsx)("i",{onClick:function(){return t.props.toggleBookmark(a[o].id)},className:"to-bookmark",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"})):c=null,Object(r.jsxs)("div",{className:"answers",children:[Object(r.jsx)(O,{currentTabId:n,tabs:a,showAnotherTab:this.props.showAnotherTab}),c,i,l]})}}]),n}(s.Component),N=(n(25),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{className:"nav",children:Object(r.jsxs)("ul",{className:"menu",children:[Object(r.jsxs)("li",{className:"main"===this.props.currentPage?"active":"",onClick:this.props.goToAnswers,children:[Object(r.jsx)("i",{className:"icon home"}),"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"]}),Object(r.jsxs)("li",{className:"bookmarks"===this.props.currentPage?"active":"",onClick:this.props.goToBookmarks,children:[Object(r.jsx)("i",{className:"icon bookmark"}),"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438"]}),Object(r.jsxs)("li",{className:"history"===this.props.currentPage?"active":"",onClick:this.props.goToHistory,children:[Object(r.jsx)("i",{className:"icon history-icon"}),"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"]}),Object(r.jsxs)("li",{onClick:this.props.goToHelp,children:[Object(r.jsx)("i",{className:"icon how-to"}),"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e"]})]})})}}]),n}(s.Component)),T=(n(26),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(l.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).api=new g,t.getHistory=function(){t.api.getHistory().then((function(t){console.log(t.history)}))},t}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"history",children:[Object(r.jsx)("div",{className:"history-header",children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"}),Object(r.jsx)("ul",{children:this.getHistory()})]})}}]),n}(s.Component)),A=(n(27),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"help",children:[Object(r.jsx)("div",{className:"help-header",children:"\u0420\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e"}),Object(r.jsxs)("div",{className:"help-text",children:[Object(r.jsx)("h2",{children:"\u041a\u0430\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u041f\u043e\u043c\u043e\u0433\u0430\u0442\u043e\u0440\u043e\u043c?"}),Object(r.jsx)("p",{children:"1. \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u0432 \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430."}),Object(r.jsx)("p",{children:"2. \u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441, \u0435\u0441\u043b\u0438 \u0432\u0434\u0440\u0443\u0433 \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f."}),Object(r.jsx)("p",{children:"3. \u0415\u0441\u043b\u0438 \u0431\u043e\u0442 \u043d\u0430\u0448\u0435\u043b \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0432\u043e\u043f\u0440\u043e\u0441, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043d\u0435\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043e\u0442\u0432\u0435\u0442 :)"}),Object(r.jsx)("p",{children:"4. \u0415\u0441\u043b\u0438 \u0441\u043e\u0432\u0441\u0435\u043c \u043d\u0435 \u043d\u0430\u0448\u0435\u043b, \u0442\u043e \u043c\u044b \u0441\u0432\u044f\u0436\u0435\u043c \u0432\u0430\u0441 \u0441 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c."}),Object(r.jsx)("p",{children:"5. \u0427\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u0432\u0448\u0438\u0439\u0441\u044f \u0432\u043e\u043f\u0440\u043e\u0441 \u0432 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 *\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438* (\u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 *\u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438* \u0432 \u043c\u0435\u043d\u044e \u0441\u043b\u0435\u0432\u0430)."}),Object(r.jsx)("p",{children:"6. \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0445 \u0432\u0430\u043c\u0438 \u0432\u043e\u043f\u0440\u043e\u0441\u043e\u0432, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 *\u0438\u0441\u0442\u043e\u0440\u0438\u044f* \u0432 \u043c\u0435\u043d\u044e \u0441\u043b\u0435\u0432\u0430."})]})]})}}]),n}(s.Component)),B=(n(28),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).getBookmarks=function(){return(new g).getAllBookmarks().map((function(t){var e=t.Question;return Object(r.jsx)("li",{children:e})}))},t}return Object(h.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("div",{className:"history",children:[Object(r.jsx)("div",{className:"history-header",children:"\u0417\u0430\u043a\u043b\u0430\u0434\u043a\u0438"}),Object(r.jsx)("ul",{children:this.getBookmarks()})]})}}]),n}(s.Component)),S=(n(29),function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(l.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(t=e.call.apply(e,[this].concat(s))).state={answers:{isLoading:!1,currentTabId:1,tabs:[{id:1,title:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",inBookmark:!1,content:null},{id:2,title:"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442",inBookmark:!1,content:null},{id:3,title:"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c",inBookmark:!1,content:null},{id:4,title:"\u0422\u0435\u043b\u0435\u0432\u0438\u0434\u0435\u043d\u0438\u0435",inBookmark:!1,content:{Question:"\u041a\u0430\u043a \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0442\u0435\u043b\u0435\u0432\u0438\u0437\u043e\u0440?",Answer:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \u0432\u043a\u043b"}}]},currentPage:"main"},t.api=new g,t.findByKey=function(t,e,n){for(var r=-1,s=0;s<n.length;s++)n[s][e]===t&&(r=s);return r},t.showAnotherTab=function(e){t.setState({answers:{currentTabId:e,tabs:t.state.answers.tabs}})},t.goToHistory=function(){t.setState({currentPage:"history"})},t.goToBookmarks=function(){t.setState({currentPage:"bookmarks"})},t.goToHelp=function(){t.setState({currentPage:"help"})},t.goToAnswers=function(){t.setState({currentPage:"main"})},t.toggleBookmark=function(e){var n=t.state.answers.tabs,r=t.findByKey(e,"id",n),s=Object(u.a)({},n[r]);s.inBookmark=!s.inBookmark;var a=n.splice(0,r),o=n.splice(r+1);t.setState({answers:{currentTabId:t.state.answers.currentTabId,tabs:[].concat(Object(i.a)(a),[s],Object(i.a)(o))}})},t.openFromBookmark=function(e){var n=t.findByKey(e,"id",t.state.history),r=t.state.history[n];r.id=t.generateUnicueId(t.state.answers.tabs),t.setState({currentPage:"main",answers:{currentTabId:r.id,tabs:[].concat(Object(i.a)(t.state.answers.tabs),[r])}})},t.showNewAnswer=function(e,n){var r=t.state.answers.tabs,s=e.answer,a=e.question;console.log(s,a);var o,c=t.findByKey(n,"id",r);o="1"==n.toString()?"\u0422\u0435\u043b\u0435\u0444\u043e\u043d":"2"==n.toString()?"\u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442":"3"==n.toString()?"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u0430\u044f \u0441\u0432\u044f\u0437\u044c":"\u0422\u0435\u043b\u0435\u0432\u0438\u0434\u0435\u043d\u0438\u0435";var u,l={id:n,title:o,inBookmark:!1,content:{Question:a,Answer:s}},h=r.splice(0,c);u=0!=c?r.splice(c):r.splice(c+1),console.log(h,"bb"),console.log(u,"af"),t.setState({answers:{currentTabId:t.state.answers.currentTabId,tabs:[].concat(Object(i.a)(h),[l],Object(i.a)(u))}})},t}return Object(h.a)(n,[{key:"render",value:function(){var t;switch(this.state.currentPage){case"main":t=Object(r.jsx)(y,{data:this.state.answers,showAnotherTab:this.showAnotherTab,toggleBookmark:this.toggleBookmark,findByKey:this.findByKey,showNewAnswer:this.showNewAnswer});break;case"bookmarks":t=Object(r.jsx)(B,{});break;case"history":t=Object(r.jsx)(T,{});break;case"help":t=Object(r.jsx)(A,{});break;default:t=Object(r.jsx)("h1",{children:"ERROR"})}return Object(r.jsxs)("div",{className:"main",children:[Object(r.jsxs)("div",{className:"left-part",children:[Object(r.jsx)(p,{}),Object(r.jsx)(N,{currentPage:this.state.currentPage,goToAnswers:this.goToAnswers,goToHistory:this.goToHistory,goToBookmarks:this.goToBookmarks,goToHelp:this.goToHelp})]}),Object(r.jsx)("div",{className:"right-part",children:t})]})}}]),n}(s.Component));c.a.render(Object(r.jsx)(S,{}),document.getElementById("root"))}],[[30,1,2]]]);
//# sourceMappingURL=main.31521d9c.chunk.js.map